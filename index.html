<html lang="en" class=" webkit chrome mac js"><head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kiên &amp; Huyền</title>

<!-- Favicons
================================================== -->
<link rel="shortcut icon" href="favicon2.ico" type="image/x-icon">
<link rel="icon" href="favicon2.ico" type="image/x-icon">
<!-- / Favicons
================================================== -->

<!-- >> CSS	
============================================================================== -->
<!-- google web fonts -->
<link href="https://fonts.googleapis.com/css?family=Great+Vibes" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Charm" rel="stylesheet">
<!-- /google web fonts -->
<!-- bootstrap -->
<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<!-- nivo lightbox -->
<link href="vendor/nivo-lightbox/nivo-lightbox.css" rel="stylesheet">
<link rel="stylesheet" href="vendor/nivo-lightbox/themes/default/default.css" type="text/css">
<!-- animate -->
<link href="vendor/animate.css" rel="stylesheet">
<!-- Font Awesome -->
	<link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
<!-- main styles -->
<link href="css/styles.css" rel="stylesheet">
<!-- >> /CSS
============================================================================== -->
<style id="holderjs-style" type="text/css"></style></head>
<body>

<!-- Page Loader
========================================================= -->
<div class="loader" id="page-loader" style="display: none;"> 
  <div class="loading-wrapper" style="visibility: visible; opacity: 1;">
  	<div class="loader-heart loader-heart1"><img src="img/intro-heart.png" alt=""></div>
  	<div class="loader-heart loader-heart2"><img src="img/intro-heart.png" alt=""></div>
  	<div class="loader-heart loader-heart3"><img src="img/intro-heart.png" alt=""></div>
  </div>   
</div>
<!-- /End of Page loader
========================================================= -->

<!-- === PAGE BACKGROUND === -->
<!-- Background container -->
<div class="page-background-container viewport" style="min-height: 511px;">
	<!-- background-mask -->
	<div class="bg-mask viewport" style="min-height: 511px;"></div>
	<!-- /background-mask -->
	<!-- background-slideshow -->
	<div class="bg-slideshow" style="position: relative;"><div class="page-background viewport cycle-slide cycle-sentinel" style="background-image: url(&quot;img/slide-bg1.jpg&quot;); top: 0px; left: 0px; opacity: 1; z-index: 99; position: static; visibility: hidden; display: block; min-height: 511px;"></div>
		<!-- slideshow-item -->
		
		<!-- /slideshow-item -->	
	<div class="page-background viewport cycle-slide cycle-slide-active" style="background-image: url(&quot;img/slide-bg1.jpg&quot;); position: absolute; top: 0px; left: 0px; opacity: 1; display: block; visibility: visible; z-index: 99; min-height: 511px;"></div></div>
	<!--/Background-slideshow -->
</div>
<!-- Background-container -->
<!-- === /PAGE BACKGROUND === -->

<!-- Main Content
================================================== -->
<div id="body" class="viewport animated fadeInUp" style="opacity: 0; min-height: 511px;">
	<div class="container">
		<div class="boxed-content">	
			<!-- Header -->
			<header id="header" class="navbar navbar-default navbar-static-top"> 
				<div class="clearfix">
				    <!-- logo -->	   
				    <div class="hd-logo">
				      <a href="index.html"><img src="img/logo.png" title="" alt=""></a>
				    </div>	   
				    <!-- /logo -->
				    <!-- responsive menu -->
				    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				        <span class="sr-only">Navigation Menu</span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				    </button>
				    <!-- /responsive menu -->    
				    <!-- menu -->
				    <nav class="hd-nav nav navbar-nav navbar-right navbar-collapse collapse">
				      <ul class="nav navbar-nav hd-list-menu clearfix">
				        <li>
				        	<a href="about.html">
				        		<span class="link-title">About</span>
				        		<span class="link-subtitle">our history</span>
				        	</a>
				        </li>
				         <li>
				        	<a href="gallery.html">
				        		<span class="link-title">Gallery</span>
				        		<span class="link-subtitle">Our pictures</span>        		
				        	</a>
				        	<!-- <ul style="display: none;">
			        			<li><a href="gallery.html">Style 1</a></li>
			        			<li><a href="gallery-2.html">Style 2</a></li>
			        		</ul> -->
				        </li>	        
				        <!-- <li>
				        	<a href="ceremony.html">
				        		<span class="link-title">Ceremony</span>
				        		<span class="link-subtitle">All information</span>
				        	</a>
				        </li>
				        <li>
				        	<a href="rsvp.html">
				        		<span class="link-title">RSVP</span>
				        		<span class="link-subtitle">Events Attending</span>
				        	</a>
				        </li>
				       	<li>
				        	<a href="archive-blog.html">
				        		<span class="link-title">Blog</span>
				        		<span class="link-subtitle">All the news!</span>
				        	</a>
				        	
				        </li>
				        <li>
				        	<a href="page-registry.html">
				        		<span class="link-title">Registry</span>
				        		<span class="link-subtitle">Our Gift List</span>
				        	</a>
				        </li> -->
				      </ul> 
				    </nav>
				    <!-- /menu -->
				</div>
			</header>
			<!-- /header -->
			<!-- content -->
			<div class="page-content page-home">
				<!-- home logo -->
				<div class="row">
					<div class="home-logo col-sm-8 col-sm-offset-2">
						<p class="couple-title">Kiên &amp; Huyền</p>
					</div>
				</div>
				<!-- /home-logo -->
				<!-- Countdown container -->
				<div class="row">
					<div class="countdown-container">
						<!-- icon -->
						<div class="countdown-icon">
							<img src="img/ico-heart2.png" alt="">
						</div>
						<!-- /icon -->
						<!-- countdown title top -->
						<h2 class="countdown-title countdown-title1"><span class="countdown-title-borders">01 - 05 - 2018</span></h2>
						<!-- /countdown title top -->
						<!-- countdown ( Edit it on main.js )-->
						<div class="row">
							<div class="col-xs-8 col-xs-offset-2">
								<div id="countdown" class="row">
									<div class="countdown-col-wrapper col-xs-3">
										<div class="countdown-col">
											<span class="countdown-time days"> 00 </span> Days 
										</div>
									</div> 
									<div class="countdown-col-wrapper col-xs-3">
										<div class="countdown-col">
											<span class="countdown-time hours"> 00 </span> Hours 
										</div>
									</div>
									<div class="countdown-col-wrapper col-xs-3">
										<div class="countdown-col">
											<span class="countdown-time minutes"> 00 </span> Minutes 
										</div>
									</div>
									<div class="countdown-col-wrapper col-xs-3">
										<div class="countdown-col">
											<span class="countdown-time seconds"> 00 </span> Seconds 
										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- /countdown -->
						<!-- countdown title bot -->
						<h3 class="countdown-title countdown-title2"><span class="countdown-title-borders">Been together</span></h3>
						<!-- countdown title /bot -->
					</div>
				</div>
				<!-- /Countdown Container -->
			</div>
			<!-- /content -->
			<!-- footer -->
			<footer id="footer">
				<p class="footer-icon"><img src="img/ft-icon.png" alt=""></p>
			  	<p class="quote-content">"When i saw you i fell in love, and you smiled because you knew."</p>
			  	<p class="quote-author">Willian Shakespeare</p>
			</footer>
			<!-- /footer -->
		</div>
	</div>
</div>
<!-- /Main Content
================================================== -->

<audio id="myAudio" loop preload="auto">
  <source src="music/music1.mp3" type="audio/mpeg">
</audio>

<!-- Nút phát/dừng nhạc -->
<div id="musicToggle" style="position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px; background: rgba(0,0,0,0.6); border-radius: 50%; cursor: pointer; z-index: 9999; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; box-shadow: 0 2px 10px rgba(0,0,0,0.3); transition: all 0.3s;">
  <i class="fa fa-play" id="musicIcon"></i>
</div>

<script>
var audio = document.getElementById("myAudio");
var musicToggle = document.getElementById("musicToggle");
var musicIcon = document.getElementById("musicIcon");
var isPlaying = false;
var audioStarted = false;

// Cập nhật icon nút
function updateButtonIcon() {
  if (audio.paused) {
    musicIcon.className = "fa fa-play";
  } else {
    musicIcon.className = "fa fa-pause";
  }
}

// Hàm phát nhạc (cho autoplay)
function playAudio() {
  if (!audio || audioStarted) return;
  
  // Thử phát nhạc (có thể bị chặn)
  var playPromise = audio.play();
  
  // Xử lý Promise nếu có
  if (playPromise !== undefined) {
    playPromise.then(function() {
      // Phát thành công
      audioStarted = true;
      isPlaying = true;
      updateButtonIcon();
      console.log("Nhạc đã được phát tự động");
    }).catch(function(error) {
      // Autoplay bị chặn - sử dụng muted autoplay trick
      audio.muted = true;
      var mutedPromise = audio.play();
      if (mutedPromise !== undefined) {
        mutedPromise.then(function() {
          // Đã phát thành công với muted, giờ unmute
          audio.muted = false;
          audioStarted = true;
          isPlaying = true;
          updateButtonIcon();
          console.log("Nhạc đã được phát (muted autoplay)");
        }).catch(function(err) {
          // Vẫn bị chặn - hiển thị nút để người dùng click
          console.log("Autoplay bị chặn - vui lòng click nút để phát nhạc");
          musicToggle.style.display = "flex";
        });
      }
    });
  } else {
    // Fallback cho trình duyệt cũ
    try {
      audio.play();
      audioStarted = true;
      isPlaying = true;
      updateButtonIcon();
    } catch(e) {
      musicToggle.style.display = "flex";
    }
  }
}

// Hàm phát nhạc khi user click (không bị chặn bởi audioStarted)
function playAudioOnClick() {
  if (!audio) {
    console.error("Audio element không tồn tại");
    return;
  }
  
  // Đảm bảo audio được load
  if (audio.readyState < 2) {
    audio.load();
  }
  
  // Unmute để đảm bảo có âm thanh
  audio.muted = false;
  
  // Thử phát nhạc
  var playPromise = audio.play();
  
  if (playPromise !== undefined) {
    playPromise.then(function() {
      isPlaying = true;
      audioStarted = true;
      updateButtonIcon();
      console.log("Nhạc đã được phát khi click nút");
    }).catch(function(error) {
      console.error("Lỗi khi phát nhạc:", error);
      // Thử lại với muted trước
      audio.muted = true;
      audio.play().then(function() {
        audio.muted = false;
        isPlaying = true;
        audioStarted = true;
        updateButtonIcon();
        console.log("Nhạc đã được phát (sau khi unmute)");
      }).catch(function(err) {
        console.error("Vẫn không thể phát nhạc:", err);
        alert("Không thể phát nhạc. Lỗi: " + err.message + "\n\nVui lòng kiểm tra:\n1. File nhạc có tồn tại không\n2. Trình duyệt có hỗ trợ audio không\n3. Xem Console để biết thêm chi tiết");
      });
    });
  } else {
    // Fallback cho trình duyệt cũ
    try {
      audio.play();
      isPlaying = true;
      audioStarted = true;
      updateButtonIcon();
    } catch(e) {
      console.error("Lỗi phát nhạc:", e);
      alert("Không thể phát nhạc: " + e.message);
    }
  }
}

// Xử lý click vào nút
musicToggle.addEventListener('click', function(e) {
  e.preventDefault();
  e.stopPropagation();
  
  console.log("Nút được click. Audio paused:", audio.paused, "ReadyState:", audio.readyState);
  
  if (audio.paused) {
    playAudioOnClick();
  } else {
    audio.pause();
    isPlaying = false;
    updateButtonIcon();
    console.log("Nhạc đã được tạm dừng");
  }
});

// Lắng nghe sự kiện thay đổi trạng thái audio
audio.addEventListener('play', function() {
  updateButtonIcon();
  console.log("Audio đang phát");
});
audio.addEventListener('pause', function() {
  updateButtonIcon();
  console.log("Audio đã tạm dừng");
});
audio.addEventListener('error', function(e) {
  console.error("Lỗi audio:", e);
  console.error("Audio error details:", audio.error);
  alert("Có lỗi xảy ra khi tải nhạc. Vui lòng kiểm tra đường dẫn file: music/music1.mp3");
});
audio.addEventListener('loadeddata', function() {
  console.log("Audio đã được tải");
});
audio.addEventListener('canplay', function() {
  console.log("Audio sẵn sàng để phát");
});

// Hàm để thử phát nhạc khi user tương tác lần đầu
function tryPlayOnInteraction(e) {
  if (!audioStarted) {
    playAudio();
    // Loại bỏ các listener sau khi đã thử phát
    document.removeEventListener('click', tryPlayOnInteraction);
    document.removeEventListener('touchstart', tryPlayOnInteraction);
    document.removeEventListener('scroll', tryPlayOnInteraction);
    document.removeEventListener('keydown', tryPlayOnInteraction);
    document.removeEventListener('mousemove', tryPlayOnInteraction);
  }
}

// Thử phát nhạc khi trang tải xong
window.addEventListener('load', function() {
  setTimeout(playAudio, 500);
});

// Cũng thử phát khi DOM ready
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(playAudio, 1000);
});

// Nếu autoplay không thành công, thử phát khi user tương tác
document.addEventListener('click', tryPlayOnInteraction, { once: true });
document.addEventListener('touchstart', tryPlayOnInteraction, { once: true });
document.addEventListener('scroll', tryPlayOnInteraction, { once: true });
document.addEventListener('keydown', tryPlayOnInteraction, { once: true });
document.addEventListener('mousemove', tryPlayOnInteraction, { once: true });

// Cập nhật icon ban đầu
updateButtonIcon();
</script>

<!-- >> JS
============================================================================== -->

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="vendor/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!-- Validate -->
<script src="vendor/validate.js"></script>
<!-- Countdown -->
<script src="vendor/jquery.countdown.min.js"></script>
<!-- Mansonry -->
<script src="vendor/imagesloaded.pkgd.min.js"></script>
<script src="vendor/masonry.pkgd.min.js"></script>
<!-- Modal box-->
<script src="vendor/nivo-lightbox/nivo-lightbox.min.js"></script>
<!-- Cycle -->
<script src="vendor/cycle2.js"></script>
<!-- SmoothScroll -->
<script src="vendor/smoothScroll.js"></script>
<!-- Placeholder for IE -->
<script src="vendor/placeholders.jquery.min.js"></script>
<!-- Crossbrowser -->
<script src="js/cross-browser.js"></script>
<!-- Owl Caroulsel -->
<script src="vendor/owl.carousel/owl-carousel/owl.carousel.js"></script>
<!-- Main Config -->
<script src="js/main.js"></script>
<!-- Holder -->
<script src="vendor/holder.js"></script>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="vendor/html5shiv.js"></script>
  <script src="vendor/respond.min.js"></script>
<![endif]-->
<!-- >> /JS
============================================================================= -->
</body></html>